今週金曜日締め切り

メモの提出
段取りがわかるメモを作ってほしい

1月からはAzure環境（Linux）で開発
JDK1.8？


・注意事項
外部サイトを検索ー＞むやみに検索をしないこと、必要十分の検索で
サーバ証明書をNW越しに見に行くこと自体は何も問題ないが、jprs.co.jpが行っているということに文句を言ってくる
ポートスキャニング
ゾーンを分担（10万件のうち、対象になる証明書に絞って分担、そもそも検索を全くしなくてもいいものがある）
内部サイトでテスト（まだ未定）
休止時間を設ける->for文でむやみに回さない


・確認方針
openssl s_client -connect ssl.example.org:443 -showcerts
CNに「JPRS G3」が含まれているかを確認する


・レビュー
GitHubでコードを挙げてレビュー


・不明点
ER図の意味がよくわからない（そんなにDBを使うと思わない）


・次のステップ
データを配る
証明書発行済みのWEBのURLをもらえる
今すぐには提供できない
そのテキストデータからPostgresのレコードをどんどん追加
pgdumpで作ったテキストを一気にテーブルに落とし込むことができるが、個人情報の問題で控える
あらかじめ削ってある
管理しやすいデータとしてリストア


・方針
せっかくなのでspringboot/Tymeleafで作成
WEBアプリ
1画面
存在するG3証明書を表示
issuername の CN に「JPRS　G3」が含まれるものを表示
CN、OU、期限日、などopensslコマンドで出る情報は大体表示させる
G3,G4,他社に切り替わっている、それぞれを表示
それぞれどのような状態なのかを詳細表示
エラーコードをうまく設計すること
日付という属性を含める（何時何分にそのような状態）
結果はログファイル
と同時にその結果をメールで通知してほしい（エラーコード別（G3,G4,他社がそれぞれ何件か）の表）
メールでは統計情報をさっとみられて、詳細情報（ログファイル）は添付ファイルに（３Mまでしか送れない）
メールのサブジェクトには日付（毎日チェック？）
文字コードはJIS（この情報もヘッダーに明記）
javaxmailライブラリを使用
バッチ実行できる実装に（定時メール）
指定事業者ごとにデータを整理できるように（あなたの傘下にこれだけのG3証明書がありますよてきな、ORDER BYで検索できるように、Servlet？）

**
前回の処理までにOKになった場合は次回は調べないでほしい
差分実行
これを基本モードとして、チェックをやめる日に備えて、オプションとしてすべてチェックできるようにしたい

成功したのか失敗したのかを表示

今週いっぱいで作成
フロー整理（金曜まで）、要件・UML
18までにサーバ構成・技術構成の青写真
どういう技術を使ってやるのか（12/25まで）

スタンドアロン・CLで？
プログラミング能力のない人にもわかるように、使えるように実装？

メールで送信されて確認できる＋任意に確認できるように操作可能
ユーザは限定しない
どの指定事業者経由で発行したかはわかるはず

ログファイルはメールで送信すると同時にサーバに保存

ワイルドカード証明書、ダブルオプション（wwwをつけたものとそうでないもの）
-> wwwとなしだけを検索して結果を記録すればいい（ただし判別できること）
HTTPで上がってない、証明書がない、HTTPSだけど別の証明書


・提出方法
要件手順がわかるようにテキストファイルでいいので金曜日までに
