■新人研修開発部課題（2020/12～）

最終目標：
  OCSP問題を抱えているJPRS G3証明書が外部Webサイトに残っていないか
  調査したい。これを実現するシステムを構築せよ。


TODO：
　本日の口頭説明に関するメモ（要件、作業の実施手順をまとめたもの。
　日本語による文章でOK）を各自がメールによって提出する。

　形式：	添付ファイル(.txtまたは.pdfを想定)
　提出先：	kentaro@jprs.co.jp
　期限：	2020-12-11(Fri) 22:00


■要件■
1.対象範囲のJPRS発行済みサーバ証明書について、G3証明書の残存件数を調査する

2.1で調査した内容について、ca-admin宛てに毎日統計データと詳細なログファイルを送信する

3.任意のタイミングである日付時点のログファイルの内容や統計データ、全数検索ができるWebアプリを作成する




■作業の実施手順■

1.シーケンス図の作成

2.ER図の作成

3.ユースケース図の作成

4.システム構成図の作成

5.対象の証明書情報をPostgreSQLにインサートするプログラムの作成

6.G3証明書の残存件数を調査するプログラムの作成

7.メール送信プログラムの作成

8.Webアプリの作成




■G3残存件数調査システムの作成手順■

1.DBから対象範囲の情報を取得し、対象のホスト名に対してopensslコマンドを実行するメソッドの実装

2.1の内容のうち、特定行を抜き出すメソッドの実装

3.2で抜き出した内容のうち、
    JPRS Domain Validation Authority - G3
    JPRS Organization Validation Authority - G3
  に該当するCNをカウントするメソッドの実装

4.openssl実行ログファイルの出力、統計データの計算を行う表示させるメソッドの実装
  統計データもログファイルに組み入れる

5．3について、G4証明書、他社発行証明書、エラー発生に場合分け＆カウントを行えるようアップデート

6.G4証明書、他社発行証明書と判断された場合に、検索対象外フラグを立ててDBに反映させるメソッドの実装

7.検索対象外フラグが値を持つレコードを除いてDBからレコードを取得するメソッドの実装

8.ワイルドカード(*)またはダブルアドレスオプションの場合分けを行うメソッドの実装

9.opensslコマンド実行時にエラーが発生した場合、エラーログを確認できるメソッドの実装


+  統計データとログファイルの送信を行うシステムの作成
   定期実行させるcronの作成

